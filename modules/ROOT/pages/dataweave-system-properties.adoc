= DataWeave System Properties
DataWeave supports several system properties. To use these properties in application development and deployments, see xref:mule-runtime:mule-app-properties-system.adoc[System Properties].

[%header%autowidth.spread,cols=",a"]
|===
|Property |Description
//com.mulesoft.dw.buffered_char_sequence.enabled//
|`com.mulesoft.dw.buffered_char_sequence.enabled`|
Controls whether an internal `BufferedCharSequence` improvement is enabled or disabled. When this property is set to `true`, DataWeave does not load large fields (greater than 1.5M) into memory. DataWeave reads these fields by chunk. This feature reduces performance to prevent an out-of-memory error.

* Type: `Boolean`
* Default: `true`

//com.mulesoft.dw.buffersize//
|`com.mulesoft.dw.buffersize`|
Sets the size (in bytes) of in-memory input and output buffers that DataWeave uses to retain processed inputs and outputs. DataWeave stores payloads that exceed this size in temporary files `dw-buffer-index-${count}.tmp` and `dw-buffer-output-${count}.tmp`. See xref:dataweave-memory-management.adoc[DataWeave Memory Management].

* Type: `Number` (in bytes)
* Default: `8192` bytes (8 KB)

//com.mulesoft.dw.coercionexception.verbose//
|`com.mulesoft.dw.coercionexception.verbose`|
By default, adds to coercion exceptions more information about data that fails to coerce. When this property is set to `false`, DataWeave does not display the additional metadata.

* Type: `Boolean`
* Default: `true`

//com.mulesoft.dw.cpulimit.watchdog//
|`com.mulesoft.dw.cpulimit.watchdog`|
Monitors and limits script execution time when set to `true`.

* Type: `Boolean`
* Default: `true`

//com.mulesoft.dw.date_minus_back_compatibility//
|`com.mulesoft.dw.date_minus_back_compatibility`|
Restores the xref:dataweave-cookbook-add-and-subtract-time.adoc[Add and Subtract Time] behaviors that changed in 2.3.0 when this property is set to `true`.

* Type: `Boolean`
* Default: `false`

Available for language levels: 2.3, 2.4

Example:
[source,dataweave,linenums]
----
%dw 2.0
output application/dw
---
\|2019-10-01\| - \|2018-09-23\|
----

* In DataWeave 2.3.0, the expression returns `PT8952H`.
* In DataWeave 2.2.0, the expression returns `P1Y8D`.

//com.mulesoft.dw.decode_binaries_with_writer_encoding//
|`com.mulesoft.dw.decode_binaries_with_writer_encoding`|
If set, then binary values in json are written using JsonWriter encoding, otherwise it will use either the encoding defined in the value schema or the default one.

* Type: `Boolean`
* Default: `false`

//com.mulesoft.dw.directbuffer.disable//
|`com.mulesoft.dw.directbuffer.disable`|
Controls whether DataWeave uses off-heap memory (the default) or heap memory. DataWeave uses off-heap memory for internal buffering, which can cause issues on systems that have only a small amount of memory. See xref:dataweave-memory-management.adoc[DataWeave Memory Management].

* Type: `Boolean`
* Default: `false`

//com.mulesoft.dw.dump_files//
|`com.mulesoft.dw.dump_files`|
_Experimental:_ Dumps the input context and the failing script into a folder when this property is set to `true`. This behavior enables you to track the failing script and the data that makes the script fail, which is particularly useful for verifying that the received input data is valid. Incorrect scripts often fail when an upstream component generates invalid data.

* Type: `Boolean`
* Default: `false`

`com.mulesoft.dw.dump_files` is an _experimental feature_ that is subject to change or removal from future versions of DataWeave. See xref:dataweave-troubleshoot.adoc[Troubleshooting a Failing DataWeave Script].

//com.mulesoft.dw.dump_folder//
|`com.mulesoft.dw.dump_folder`|
_Experimental:_ Specifies the path in which to dump files when `com.mulesoft.dw.dump_files` is set to `true`.

* Type: `String`
* Default: `/var/folders/8f/5jqs1kh97k16dzsmxxph2m5c0000gp/T`

`com.mulesoft.dw.dump_folder` is an _experimental feature_ that is subject to change or removal from future versions of DataWeave. See xref:dataweave-troubleshoot.adoc[Troubleshooting a Failing DataWeave Script].

//com.mulesoft.dw.dumper_fill_stacktrace//
|`com.mulesoft.dw.dumper_fill_stacktrace`|
_Experimental:_ Adds the StackTrace for dumper exceptions when `com.mulesoft.dw.dump_files` is set to `true`.

* Type: `Boolean`
* Default: `false`

`com.mulesoft.dw.dumper_fill_stacktrace` is an _experimental feature_ that is subject to change or removal from future versions of DataWeave. See xref:dataweave-troubleshoot.adoc[].

//com.mulesoft.dw.indexsize//
|`com.mulesoft.dw.indexsize`|
Sets the maximum size (in bytes) of the page in memory that indexed readers use.

* Type: `Integer`
* Default: `1572864`

//com.mulesoft.dw.java.stacktrace//
|`com.mulesoft.dw.java.stacktrace`|
Specifies the depth of the Java stack trace.

* Type: `Integer`
* Default: `6`

//com.mulesoft.dw.max_memory_allocation//
|`com.mulesoft.dw.max_memory_allocation`|
Sets the size (in bytes) of each slot in the off-heap memory pool. DataWeave stores payloads that exceed this size in temporary files `dw-buffer-input-${count}.tmp` and `dw-buffer-output-${count}.tmp`.

* Type: `Integer`
* Default: `1572864`

//com.mulesoft.dw.memory_pool_size//
|`com.mulesoft.dw.memory_pool_size`|
Sets the number of slots in the memory pool. DataWeave buffers use off-heap memory from a pool, up to a defined size (`com.mulesoft.dw.memory_pool_size` * `com.mulesoft.dw.max_memory_allocation`). DataWeave allocates the remainder using heap memory. See xref:dataweave-memory-management.adoc[DataWeave Memory Management].

* Type: `Integer`
* Default: `60`

//com.mulesoft.dw.scheduler.size//
|`com.mulesoft.dw.scheduler.size`|
Specifies the size of DataWeave scheduler's thread pool.

* Type: `Integer`
* Default: `100`

//com.mulesoft.dw.stacksize//
|`com.mulesoft.dw.stacksize`|
Sets the maximum size of the stack. When a function recurses too deeply, DataWeave throws an error, such as Stack Overflow. Max stack is 256.

* Type: `Integer`
* Default: `256`

//com.mulesoft.dw.telemetry.bufferSize//
|`com.mulesoft.dw.telemetry.bufferSize`|
Determines the size in bytes of the telemetry event buffer.

* Type: `Integer`
* Default: `1048576`

//com.mulesoft.dw.telemetry.enabled//
|`com.mulesoft.dw.telemetry.enabled`|
Enables the DataWeave telemetry service.

* Type: `Boolean`
* Default: `false`

//com.mulesoft.dw.telemetry.memory//
|`com.mulesoft.dw.telemetry.memory`|
If set, then the telemetry service will collect memory usage statistics

* Type: `Boolean`
* Default: `false`

//com.mulesoft.dw.telemetry.sync//
|`com.mulesoft.dw.telemetry.sync`|
If set, then telemetry events are published synchronously.

* Type: `Boolean`
* Default: `false`

//com.mulesoft.dw.valueSelector.selectsAlwaysFirst//
|`com.mulesoft.dw.valueSelector.selectsAlwaysFirst`|
When set to set to `true`, returns the first occurrence of an element (even if the element appears more than once). Enabling this behavior degrades performance.

* Type: `Boolean`
* Default: `false`

The following example illustrates the behavior that is controlled by this property. (Assume that the DataWeave script acts on the XML input.)

.XML input:
[source,xml,linenums]
----
<root>
  <users>
     <user>
       <lname>chibana</lname>
       <name>Shoki</name>
     </user>
     <user>
       <name>Shoki</name>
       <name>Tomo</name>
     </user>
  </users>
</root>
----
.DataWeave script:
[source,xml,linenums]
----
%dw 2.0
output application/json
---
{
    shokis: payload.root.users.*user map $.name
}
----
* If `com.mulesoft.dw.valueSelector.selectsAlwaysFirst` is set to `true`, the script returns the following output:
+
[source,json,linenums]
----
{
  "shokis": [
    "Shoki",
    "Shoki"
  ]
}
----
* If `com.mulesoft.dw.valueSelector.selectsAlwaysFirst` is set to `false`, the script returns the following output:
+
[source,json,linenums]
----
{
  "shokis": [
    "Shoki",
    "Tomo"
  ]
}
----

Available for language levels: 2.3, 2.4

//com.mulesoft.dw.workingdirectory.base//
|`com.mulesoft.dw.workingdirectory.base`|
Specifies the base directory in which temporary files will be written

* Type: `String`
* Default: `/var/folders/8f/5jqs1kh97k16dzsmxxph2m5c0000gp/T/`

//com.mulesoft.dw.workingdirectory.delete_sync//
|`com.mulesoft.dw.workingdirectory.delete_sync`|
 File deletion is occurs synchronously when this property is set to `true`.
 

* Type: `Boolean`
* Default: `false`

//com.mulesoft.dw.workingdirectory.max_output_buffer_size//
|`com.mulesoft.dw.workingdirectory.max_output_buffer_size`|
Specifies the maximum size of a file to be written in bytes

* Type: `Long`
* Default: `-1`

//com.mulesoft.dw.workingdirectory.tracking//
|`com.mulesoft.dw.workingdirectory.tracking`|
Each script generates `tmp` files in their own directory when this property is set to `true`.

* Type: `Boolean`
* Default: `false`

//com.mulesoft.dw.xml_reader.honourMixedContentStructure//
|`com.mulesoft.dw.xml_reader.honourMixedContentStructure`|
When this property is set to `true`, DataWeave retains a mixed-content structure instead of grouping text with mixed content into a single text field.

* Type: `Boolean`
* Default: `false`

Available for language levels: 2.4

//com.mulesoft.dw.xml_reader.parseDtd//
|`com.mulesoft.dw.xml_reader.parseDtd`|
DataWeave parses a Doctype declaration when this property is set to `true`.

* Type: `Boolean`
* Default: `false`

Available for language levels: 2.5

//mule.dw.remove_shadowed_implicit_inputs//
|`mule.dw.remove_shadowed_implicit_inputs`|
If a variable with the same name is declared at the root level and this property is set to `true`, DataWeave removes implicit inputs.

* Type: `Boolean`
* Default: `true`
|===
